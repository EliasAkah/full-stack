<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>

        <link rel="stylesheet" href="style.css">

    </head>
    <body>
        <div id="page">
            <h1>Example 1</h1>
            <h2>The XMLHttpRequest</h2>

            <p>This page uses the XMLHttpRequest object to asynchronously go get
                data from an external URL. The data the page is getting is
                generated from a script that randomly waits between 5 and 30
                seconds to run. Note that waiting for it does not hold up this
                page at all. Click the button to load the data.
            </p>

            <p><button id="bgcolor">Change Background Color</button> <button
                    id="font">Change Font</button></p>

            <button id="loaddata">Get Data</button>

            <div id="remotedata"></div>

        </div>

        <script src="https://code.jquery.com/jquery-3.7.1.js"
            integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
            crossorigin="anonymous"></script>

        <script>

            $(document).ready(function(){
                $('#loaddata').click(function () {
                    $('#remotedata').html('<img src = "images/spinner.gif">');
                    
                    $.ajax({
                        url: 'https://cpe-web-assignments.ucdavis.edu/remotedata/index.php',
                        cache: false
                    }).done(function(data){
                        $('#remotedata').html(data);
                    });
                });
                
            });

            let pageColor = "white";
            let fontSize = "large";

            $('#bgcolor').click(function(){
                if(pageColor == 'white'){
                    $('#page').css('background-color', '#f2f4b1');
                    pageColor = "yellow";
                }
                else{
                    $('#page').css('background-color', '#fffcfc');
                    pageColor = "white";
                }
            });

            $('#font').click(function(){
                if(fontSize == 'large'){
                    $('h1').css('font-size', '2.5em');
                    $('h2').css('font-size', '2.0em');
                    $('p').css('line-height', '2.0em');
                    fontSize = "small";
                }
                else{
                    $('h1').css('font-size', '2em');
                    $('h2').css('font-size', '1.5em');
                    $('p').css('line-height', '1.5em');
                    fontSize = "large";
                }
            });

        </script>

    </body>
</html>